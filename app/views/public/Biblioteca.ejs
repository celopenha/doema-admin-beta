<!DOCTYPE html>
<html lang="pt-br">
<%- include ../template/head.ejs%>
  <%- include ../template/topo-public.ejs %>

    <style>
      .card .body {
        padding: 20px 20px 0 20px;
      }

      .card {
        padding-bottom: 0;
      }
    </style>

    <body>


      <div style="margin-top: 120px;" class="container">
        <div class="row clearfix">
          <div class="col-sm-12 col-m2-12 col-lg-12" style="text-align: center;">
            <div class="biblioteca-cabecalho">
              <h1 style="color: #972632;font-size: 60px;">FORMULÁRIO DE CONSULTA</h1>
            </div>
          </div>
        </div>
        <div class="row clearfix">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <form id="" class="user" enctype="multipart/form-data">

              <div class="card">
                <div class="header">
                  <h2>Dados pessoais</h2>
                </div>
                <div class="body">
                  <div class="row clearfix">
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                      <div class="input-group-lg input-group">
                        <span class="input-group-addon">
                          <i class="material-icons">person</i>
                        </span>
                        <div class="form-line">
                          <h6>NOME COMPLETO: *</h6>
                          <input type="text" class="form-control" id="nome" name="nome" treatment="capitalize"
                            required="">
                        </div>
                      </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                      <div class="input-group-lg input-group">
                        <span class="input-group-addon">
                          <i class="material-icons">fingerprint</i>
                        </span>
                        <div class="form-line">
                          <h6>CPF: *</h6>
                          <input type="text" class="form-control" id="cpf" name="cpf" required="">
                        </div>
                      </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                      <div class="input-group-lg input-group">
                        <span class="input-group-addon">
                          <i class="material-icons">email</i>
                        </span>
                        <div class="form-line">
                          <h6>E-MAIL: *</h6>
                          <input type="email" class="form-control" id="email" name="email" required="">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="header">
                  <h2>Informações de Consulta</h2>
                </div>
                <div class="body">
                  <div class="row clearfix">
                    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                      <div class=" input-group">
                        <span class="input-group-addon">
                          <span class="material-icons">book</span>
                        </span>
                        <h6>TIPO DE CONSULTA: </h6>
                        <select class="form-control show-tick" name="pesquisa" id="pesquisa">
                          <option value=""> SELECIONE O TIPO </option>
                          <option value="NOMEACAO">NOMEAÇÃO</option>
                          <option value="APOSENTADORIA">ATO DE APOSENTADORIA</option>
                          <option value="REFORMA">REFORMA</option>
                          <option value="EXCLUSAO">EXCLUSÃO</option>
                          <option value="LEI">LEI Nº</option>
                          <option value="DECRETO">DECRETO Nº</option>
                          <option value="PORTARIA">PORTARIA Nº</option>
                          <option value="PORTARIA">OUTROS</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
                      <div class="input-group input-group">
                        <span class="input-group-addon">
                          <i class="material-icons">person</i>
                        </span>
                        <div class="form-line">
                          <h6>TERMO DE CONSULTA: </h6>
                          <input placeholder="Lei nº 341, Decreto nº 2332" type="text" class="form-control" id="termo"
                            name="termo">
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="header">
                  <h2>Informações Adicionais</h2>
                </div>
                <div class="body">
                  <div class="row clearfix">
                    <div class="col-xs-12 col-sm-6 col-md-12 col-lg-12">
                      <div class="form-group">
                        <div class="form-line">
                          <textarea rows="6" class="form-control no-resize"
                            placeholder="Descreva mais detalhes sobre a solicitação neste espaço..."></textarea>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <button type="submit"
                style="display: flex; align-items: center;justify-content: center; width: 100%; height: 60px;"
                class="btn btn-lg btn-success">
                <span style="margin-right: 20px;" class="material-icons">search</span>
                ENVIAR SOLICITAÇÃO

              </button>

            </form>

          </div>
        </div>
        <div class="row clearfix">
          <div class="col-md-6">
            <div class="boxinfo-biblioteca">
              <span class="number-label">Contato</span>
              <p class="biblio-info">
                Informe os seus dados pessoais (nome, CPF e e-mail)
                para a sua identificação na nossa base de dados
              </p>
            </div>
          </div>
          <div class=" col-md-6">
            <div class="boxinfo-biblioteca">
              <span class="number-label">Informações de Consulta</span>
              <p class="biblio-info">
                Informe o tipo do JORNAL (selecione a opção 'não incluir' caso não saiba).
                Em seguida, selecione o tipo de consulta
                que você deseja realizar para obter melhores resultados
              </p>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="boxinfo-biblioteca">
              <span class="number-label">3º</span>
              <p class="biblio-info">
                RECURSOS HUMANOS
                BOLETIM 030/2021 O GOVERNADOR DO ESTADO DO RIO GRANDE DO SUL, no uso de suas atribuições,
                tendo
                em
                vista
                o que consta no Processo nº 21/1204-0001955-3, DISPENSA, “a pedido”, a c...
              </p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="boxinfo-biblioteca">
              <span class="number-label">3º</span>
              <p class="biblio-info">
                RECURSOS HUMANOS
                BOLETIM 030/2021 O GOVERNADOR DO ESTADO DO RIO GRANDE DO SUL, no uso de suas atribuições,
                tendo
                em
                vista
                o que consta no Processo nº 21/1204-0001955-3, DISPENSA, “a pedido”, a c...
              </p>
            </div>
          </div>
        </div>
        <input type="file" accept="image/*" capture="camera">

      </div>


      <!-- Jquery Core Js -->
      <script src="/js/plugins/jquery/jquery.min.js"></script>
      <!-- Bootstrap Core Js -->
      <script src="/js/plugins/bootstrap/js/bootstrap.js"></script>
      <!-- Slimscroll Plugin Js -->
      <script src="/js/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>
      <!-- Jquery Validation Plugin Css -->
      <script src="/js/plugins/jquery-validation/jquery.validate.js"></script>
      <!-- JQuery Steps Plugin Js -->
      <script src="/js/plugins/jquery-steps/jquery.steps.js"></script>
      <!-- Waves Effect Plugin Js -->
      <script src="/js/plugins/node-waves/waves.js"></script>
      <!-- Autosize Plugin Js -->
      <script src="/js/plugins/autosize/autosize.js"></script>
      <!-- Jquery Mask Js -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js"></script>
      <!-- Moment Plugin Js -->
      <script src="/js/plugins/momentjs/moment.js"></script>
      <!-- Dropzone Js -->
      <script src="/js/plugins/dropzone/dropzone.js"></script>
      <!-- Bootstrap Material Datetime Picker Plugin Js -->
      <script src="/js/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>
      <!-- Bootstrap Datepicker Plugin Js -->
      <script src="/js/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
      <!-- Custom Js -->
      <script src="/js/js/pages/forms/form-wizard.js"></script>
      <!-- Select Plugin Js -->
      <script src="/js/plugins/bootstrap-select/js/bootstrap-select.js"></script>
      <!-- Inclusão de Máscaras Js-->
      <script src="/js/shopping-crianca-mask.js"></script>
      <!-- Custom Js -->
      <script src="/js/js/admin.js"></script>
      <!-- SWEET ALERT  -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>



      <script>
        const form = document.querySelector('form');


        form.addEventListener('submit', (e) => {

          const formData = new FormData(form);

          $.ajax({
            type: 'POST',
            url: "/app/biblioteca/create/submit",
            data: formData,
            dataType: 'json',
            success: function () { swal("Done!", "It was succesfully deleted!", "success"); },
            processData: false

          })
          e.preventDefault();


        })



      </script>


      <script>
        function validaCPF() {
          var cpf = document.getElementById("cpf").value;
          var cpfValido = true;

          cpf = cpf.toString().replace(/\.|-/gm, '');

          let Soma, Resto;
          Soma = 0;

          if (cpf.length !== 11 || /^(\d)\1+$/.test(cpf)) {
            cpfValido = false;
          }

          for (i = 1; i <= 9; i++) {
            Soma = Soma + parseInt(cpf.substring(i - 1, i)) * (11 - i);
          }

          Resto = (Soma * 10) % 11;
          if ((Resto == 10) || (Resto == 11)) {
            Resto = 0;
          }

          if (Resto != parseInt(cpf.substring(9, 10))) {
            cpfValido = false;
          }

          Soma = 0;
          for (i = 1; i <= 10; i++) {
            Soma = Soma + parseInt(cpf.substring(i - 1, i)) * (12 - i);
          }

          Resto = (Soma * 10) % 11;
          if ((Resto == 10) || (Resto == 11)) {
            Resto = 0;
          }

          if (Resto != parseInt(cpf.substring(10, 11))) {
            cpfValido = false;
          }

          if (!cpfValido) {
            $.notify({
              icon: 'glyphicon glyphicon-warning-sign',
              title: '<strong> Atenção!</strong>',
              message: 'CPF Inválido! '
            },
              {
                type: 'danger',
                timer: 3000,
                animate: {
                  enter: 'animated bounceInRight',
                  exit: 'animated bounceOutRight'
                },
                template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
                  '<button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button>' +
                  '<span data-notify="icon"></span> ' +
                  '<span data-notify="title">{1}</span> ' +
                  '<span data-notify="message">{2}</span>' +
                  '<div class="progress" data-notify="progressbar">' +
                  '<div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>' +
                  '</div>' +
                  '<a href="{3}" target="{4}" data-notify="url"></a>' +
                  '</div>'
              });
            $('[type=submit]').prop('disabled', true);
          } else {
            $('[type=submit]').prop('disabled', false);
          }
        }
      </script>
    </body>

</html>