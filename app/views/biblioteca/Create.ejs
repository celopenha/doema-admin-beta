<!DOCTYPE html>
<html lang="pt-br">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="/img/MPdL(Logo)/MPdL(logo).svg" type="image/x-icon">
	<title>
		<%- process.env.TITLE %>
	</title>
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet"
				type="text/css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

	<!-- Bootstrap Core Css -->
	<link href="/js/plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

	<!-- Waves Effect Css -->
	<link href="/js/plugins/node-waves/waves.css" rel="stylesheet" />

	<!-- Animation Css -->
	<link href="/js/plugins/animate-css/animate.css" rel="stylesheet" />

	<!-- Dropzone Css -->
	<link href="/js/plugins/dropzone/dropzone.css" rel="stylesheet">

	<!-- Bootstrap Material Datetime Picker Css -->
	<link href="/js/plugins/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.css"
				rel="stylesheet" />

	<!-- Bootstrap DatePicker Css -->
	<link href="/js/plugins/bootstrap-datepicker/css/bootstrap-datepicker.css" rel="stylesheet" />

	<!-- Wait Me Css -->
	<link href="/js/plugins/waitme/waitMe.css" rel="stylesheet" />

	<!-- Bootstrap Select Css -->
	<link href="/js/plugins/bootstrap-select/css/bootstrap-select.css" rel="stylesheet" />

	<!-- Custom Css -->
	<link href="/css/css/style.css" rel="stylesheet">
	<link href="/css/css/themes/all-themes.css" rel="stylesheet" />

	<!-- Inclusão de Máscaras Js-->
	<script src="/js/shopping-crianca-mask.js"></script>

</head>

<body class="theme-teal">

	<!-- Page Wrapper -->
	<section class="content">
		<div class="content-fluid">
			<div class="block-header">
				<h2>Formulário Biblioteca - DOEMA</h2>
			</div>
			<form class="user" id="frmFileUpload2" method="POST" action="/app/<%= page %>/create/submit"
						enctype="multipart/form-data">
				<div class="row clearfix">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<div class="card">
							<div class="header">
								<h2>Informações para a busca</h2>
							</div>
							<div class="body">
								<div class="row clearfix">
									<div class="col-sm-4">
										<div class="input-group">
											<div class="form-line">
												NOME: *
												<input type="text" class="form-control" id="nome"
												name="nome" treatment="capitalize" required>
											</div>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											<div class="form-line">
												CPF: *
												<input type="text" class="form-control" id="cpf"
												name="cpf" minlength="14" onblur="validaCPF()" required>
											</div>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											<div class="form-line">
												E-MAIL: *
												<input type="email" class="form-control" id="email"
												name="email" required>
											</div>
										</div>
									</div>
								</div>
								<div class="row clearfix">
									<div class="col-sm-4">
										<div class="input-group">
											JORNAL: *
											<select class="form-control show-tick" name="caderno"
												id="caderno">
												<option value="" disabled selected hidden>Selecione
													uma opção
												</option>
												<option value="EXECUTIVO">Executivo</option>
												<option value="TERCEIROS">Terceiros</option>
												<option value="SUPLEMENTO_TERCEIROS">Suplemento Terceiros</option>
												<option value="SUPLEMENTO_EXECUTIVO">Suplemento Executivo</option>
											</select>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											TIPO DE CONSULTA: *
											<select class="form-control show-tick" name="pesquisa"
												id="pesquisa">
												<option value="" disabled selected hidden>Selecione
													uma opção
												</option>
												<option value="NOMEACAO">Nomeação</option>
												<option value="EXONERACAO">Exoneração</option>
												<option value="APOSENTADORIA">Aposentadoria</option>
												<option value="REFORMA">Reforma</option>
												<option value="EXCLUSAO">Exclusão</option>
												<option value="LEI">Lei Nª</option>
												<option value="DECRETO">Decreto Nª</option>
												<option value="PORTARIA">Portaria Nª</option>
											</select>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											<div class="form-line">
												TERMOS DE BUSCA:
												<textarea rows="1" class="form-control no-resize" maxlength="1000" placeholder="Informe mais detalhes para tornar a busca mais rápida..." id="termo" name="termo"></textarea>
											</div>
										</div>
									</div>
								</div>
								<div class="row clearfix">
									<div class="col-sm-4">
										<div class="input-group">
											<div class="form-line">
												DATA DO PEDIDO: *
												<input type="text" class="form-control" id="data"
												name="data" value="<%= dataAtual %>" disabled>
											</div>
										</div>
									</div>
								</div>
							</div>
							
							<input type="hidden" id="data" name="data" value="<%= dataAtual %>">

							<div class="footer-card">
								<input type="submit" value="Salvar"
											 class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" />
								<a href="/app/<%= page %>/list"
									 class="d-none d-sm-inline-block btn btn-sm btn-danger shadow-sm">Cancelar</a>
							</div>
						</div>
					</div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
				</div>
			</form>
		</div>
	</section>
	<!-- End of Page Wrapper -->

	<!-- Logout Modal-->
	<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
			 aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
					<button class="close" type="button" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">×</span>
					</button>
				</div>
				<div class="modal-body">Select "Logout" below if you are ready to end your current session.
				</div>
				<div class="modal-footer">
					<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
					<a class="btn btn-primary" href="login.html">Logout</a>
				</div>
			</div>
		</div>
	</div>

	<!-- Jquery Core Js -->
	<script src="/js/plugins/jquery/jquery.min.js"></script>

	<!-- Bootstrap Core Js -->
	<script src="/js/plugins/bootstrap/js/bootstrap.js"></script>

	<!-- Select Plugin Js -->
	<script src="/js/plugins/bootstrap-select/js/bootstrap-select.js"></script>

	<!-- Slimscroll Plugin Js -->
	<script src="/js/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>

	<!-- Waves Effect Plugin Js -->
	<script src="/js/plugins/node-waves/waves.js"></script>

	<!-- Autosize Plugin Js -->
	<script src="/js/plugins/autosize/autosize.js"></script>

	<!-- Moment Plugin Js -->
	<script src="/js/plugins/momentjs/moment.js"></script>

	<!-- Validation Plugin Js -->
    <script src="/js/plugins/jquery-validation/jquery.validate.js"></script>

    <!-- Bootstrap Notify Plugin Js -->
    <script src="/js/plugins/bootstrap-notify/bootstrap-notify.js"></script>

	<!-- Bootstrap Material Datetime Picker Plugin Js -->
	<script src="/js/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>

	<!-- Bootstrap Datepicker Plugin Js -->
	<script src="/js/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>

	<!-- Custom Js -->
	<script src="/js/js/admin.js"></script>

	<!-- Jquery Mask Js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js"></script>

	<script src="/js/shopping-crianca-mask.js"></script>


	 <!-- Validação de CPF - [ start ] -->
	 <script>
        function validaCPF() {
            var cpf = document.getElementById("cpf").value;
            var cpfValido = true;

            cpf = cpf.toString().replace(/\.|-/gm,'');

            let Soma, Resto;
            Soma = 0;
            
            if(cpf.length !== 11 || /^(\d)\1+$/.test(cpf)){
                cpfValido = false;
            }
            
            for (i=1; i<=9; i++){
                Soma = Soma + parseInt(cpf.substring(i-1, i)) * (11 - i);
            }
            
            Resto = (Soma * 10) % 11;
            if ((Resto == 10) || (Resto == 11)){
                Resto = 0;
            }
            
            if (Resto != parseInt(cpf.substring(9, 10))){
                cpfValido = false;
            }
            
            Soma = 0;
            for (i = 1; i <= 10; i++){
                Soma = Soma + parseInt(cpf.substring(i-1, i)) * (12 - i);
            }
            
            Resto = (Soma * 10) % 11;
            if ((Resto == 10) || (Resto == 11)){
                Resto = 0;
            }
            
            if (Resto != parseInt(cpf.substring(10, 11))){
                cpfValido = false;
            }

            if (!cpfValido) {
                $.notify({
                    icon: 'glyphicon glyphicon-warning-sign',
                    title: '<strong> Atenção!</strong>',
                    message: 'CPF Inválido! '
                },
                {
                    type: 'danger',
                    timer: 3000,
                    animate: {
                        enter: 'animated bounceInRight',
                        exit: 'animated bounceOutRight'
                    },
                    template: '<div data-notify="container" class="col-xs-11 col-sm-3 alert alert-{0}" role="alert">' +
                        '<button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button>' +
                        '<span data-notify="icon"></span> ' +
                        '<span data-notify="title">{1}</span> ' +
                        '<span data-notify="message">{2}</span>' +
                        '<div class="progress" data-notify="progressbar">' +
                            '<div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>' +
                        '</div>' +
                        '<a href="{3}" target="{4}" data-notify="url"></a>' +
                    '</div>' 
                });
                $('[type=submit]').prop('disabled', true);
            } else {
                $('[type=submit]').prop('disabled', false);
            }
        }       
    </script>
    <!-- Validação de CPF - [ end ] -->

</body>

</html>